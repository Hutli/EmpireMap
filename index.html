<!DOCTYPE html>
<!-- saved from url=(0066)https://leafletjs.com/examples/crs-simple/crs-simple-example1.html -->
<html id="index">
	<head>
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="manifest" href="/site.webmanifest">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="msapplication-TileColor" content="#2b5797">
		<meta name="theme-color" content="#ffffff">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<title>The Empire</title>

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" type="text/css" href="css/myleaflet.css">
		<link rel="stylesheet" type="text/css" href="css/poiinfo.css">
		<link rel="stylesheet" type="text/css" href="css/sidenav.css">
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>

	   	<!-- Make sure this exists AFTER Leaflet's CSS -->
	 	<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
	   	<script src="js/jquery-3.3.1.js"></script>
		
	</head>
	<body data-gr-c-s-loaded="true" class="noscrol">
		<div id="mySidenav" class="sidenav">
			<div class="content">
				<h2>Nations</h2>
			    <a href="https://www.profounddecisions.co.uk/empire-wiki/The_Marches" onclick="return sideNavClick(this, event);">The Marches</a>
			    <a href="https://www.profounddecisions.co.uk/empire-wiki/The_Brass_Coast" onclick="return sideNavClick(this, event);">The Brass Coast</a>
			    <a href="https://www.profounddecisions.co.uk/empire-wiki/Dawn" onclick="return sideNavClick(this, event);">Dawn</a>
			    <a href="https://www.profounddecisions.co.uk/empire-wiki/Highguard" onclick="return sideNavClick(this, event);">Highguard</a>
			    <a href="https://www.profounddecisions.co.uk/empire-wiki/Imperial_Orcs" onclick="return sideNavClick(this, event);">Imperial Orcs</a>
			    <a href="https://www.profounddecisions.co.uk/empire-wiki/The_League" onclick="return sideNavClick(this, event);">The League</a>
			    <a href="https://www.profounddecisions.co.uk/empire-wiki/Navarr" onclick="return sideNavClick(this, event);">Navarr</a>
			    <a href="https://www.profounddecisions.co.uk/empire-wiki/Urizen" onclick="return sideNavClick(this, event);">Urizen</a>
			    <a href="https://www.profounddecisions.co.uk/empire-wiki/Varushka" onclick="return sideNavClick(this, event);">Varushka</a>
			    <a href="https://www.profounddecisions.co.uk/empire-wiki/Wintermark" onclick="return sideNavClick(this, event);">Wintermark</a>
		    </div>
		    <div class="footer">
		    	<hr/>
			    <h2>Tips:</h2>
				<ul>
				  	<li>Hold control when clicking to open wiki</li>
				  	<li>Hold alt when clicking to open POI Info</li>
				  	<li>When zooming by clicking, you will only see things in that area</li>
				</ul>
			</div>
		</div>

		<div id="poiInfoPanel" class="poiInfo" value></div>

		<div id="map" class="main"></div>

	   	<script src="js/activearea.js"></script>
		<script src="js/poiinfo.js"></script>
		<script src="js/map.js"></script>
		<script>			
			var menuButton = L.DomUtil.create('div', 'leaflet-bar leaflet-control leaflet-control-custom');;
			menuButton.style.backgroundColor = 'white';
			menuButton.id = "menuButton";
		    menuButton.style.width = '30px';
		    menuButton.style.height = '30px';
			menuButton.innerHTML = "<img src='images/menu.png' width='60%' class = 'center'/>";
			menuButton.onclick = function() {
				openNav();
			}

			var myCustomControl = L.Control.extend({
			 
			    options: {
			    	position: 'topleft' 
			    },
			 
				onAdd: function (map) {
			    	return menuButton;
				},
			});
			
			$(document).on("keydown", function (e) {
			    if(e.ctrlKey){
			    	isCtrlKeyPressed = true;
			    }
			    if(e.altKey){
			    	isAltKeyPressed = true;
			    }
			});

			$(document).on("keyup", function (e) {
			    if(!e.ctrlKey){
			    	isCtrlKeyPressed = false;
			    }
			    if(!e.altKey){
			    	isAltKeyPressed = false;
			    }
			});

			L.Control.MousePosition = L.Control.extend({
			  options: {
			    position: 'bottomleft',
			    separator: ' : ',
			    emptyString: 'Unavailable',
			    lngFirst: false,
			    numDigits: 5,
			    lngFormatter: undefined,
			    latFormatter: undefined,
			    prefix: ""
			  },

			  onAdd: function (map) {
			    this._container = L.DomUtil.create('div', 'leaflet-control-mouseposition');
			    L.DomEvent.disableClickPropagation(this._container);
			    map.on('mousemove', this._onMouseMove, this);
			    this._container.innerHTML=this.options.emptyString;
			    return this._container;
			  },

			  onRemove: function (map) {
			    map.off('mousemove', this._onMouseMove)
			  },

			  _onMouseMove: function (e) {
			    var lng = this.options.lngFormatter ? this.options.lngFormatter(e.latlng.lng) : L.Util.formatNum(e.latlng.lng, this.options.numDigits);
			    var lat = this.options.latFormatter ? this.options.latFormatter(e.latlng.lat) : L.Util.formatNum(e.latlng.lat, this.options.numDigits);
			    var value = this.options.lngFirst ? lng + this.options.separator + lat : lat + this.options.separator + lng;
			    var prefixAndValue = this.options.prefix + ' ' + value;
			    this._container.innerHTML = prefixAndValue;
			  }

			});

			L.Map.mergeOptions({
			    positionControl: false
			});

			L.Map.addInitHook(function () {
			    if (this.options.positionControl) {
			        this.positionControl = new L.Control.MousePosition();
			        this.addControl(this.positionControl);
			    }
			});

			L.control.mousePosition = function (options) {
			    return new L.Control.MousePosition(options);
			};

			L.control.mousePosition().addTo(map);

			info.addTo(map);

			map.addControl(new myCustomControl());
			map.fitBounds(bounds);
		</script>
	</body>
</html>